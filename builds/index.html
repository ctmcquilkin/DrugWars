<!DOCTYPE html>
<html lang="en" ng-app="root">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Angular DrugWars</title>
    <meta name="description" content="Angular version of the classic Drug Wars game" />
    <meta name="keywords" content="module table, inspiration, ui, modern, responsive, flexbox, html, component" />
    <meta name="author" content="chuck mcquilkin" />
    <link href="https://fonts.googleapis.com/css?family=Allan:700|Permanent+Marker" rel="stylesheet"> 
    <link rel="stylesheet" type="text/css" href="css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="css/demo.css" />
    <link rel="stylesheet" type="text/css" href="css/component.css" />
    <!--[if IE]>
  		<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
</head>

<body ng-app >
    <div class="container" ng-controller="IncrementalCtrl">
<!--         <header id="header">
          <h1>Drug Wars</h1>
        </header> -->
        <section class="topSection">
            <div class="left" ng-click="toggle()"><h3><span ng-show="mapOpen">Hide</span><span ng-show="!mapOpen">Show</span> Map</h3></div>
            <div class="right" ng-click="newGame()"><h3>New Game</h3></div>
        </section>
        <section class="module-section bg-9">
            <h2 class="module-section__title">Drug Wars</h2>

<div class="console" ng-show="message" class="ng-hide">This is where game messages will appear<span class="blinking-cursor">|</span></div>

<div class="MapContainer animate-show" ng-show="mapOpen" class="ng-hide">
    <h2>Jet to:</h2>
      <div svg-map id="svg-map"></div>
</div> <!-- End Map Container -->

            <div class="module module--drugWars">
                <div class="module__item market__item--featured">
                    <h3 class="module__title">{{currentLocation}} Drug Market</h3>
                    <p class="module__sentence">Select a drug to buy</p>
                    <div class="module__price"><span class="module__currency">$</span><span ng-bind="drugToBuy.value">25</span><span class="module__period" ng-bind="drugToBuy.name">{{drugToBuy.name}}</span></div>
                <form name="buyForm" class="control-group">
			            <label class="control control--radio">Shrooms {{Market.Shrooms.value | currency:"$":0 }}
			              <input type="radio" ng-model="drugToBuy" ng-value="Market.Shrooms" ng-disabled="Market.Shrooms.value > user.Stats.numCash">
			              <div class="control__indicator"></div>
			            </label>
			            <label class="control control--radio">PCP {{Market.PCP.value | currency:"$":0 }}
			              <input type="radio" ng-model="drugToBuy" ng-value="Market.PCP" ng-disabled="Market.PCP.value > user.Stats.numCash">
										<div class="control__indicator"></div>
			            </label>
			            <label class="control control--radio">Speed {{Market.Speed.value | currency:"$":0 }}
			              <input type="radio" ng-model="drugToBuy" ng-value="Market.Speed" ng-disabled="Market.Speed.value > user.Stats.numCash">
										<div class="control__indicator"></div>
			            </label>
			            <label class="control control--radio">Ludes {{Market.Ludes.value | currency:"$":0 }}
			              <input type="radio" ng-model="drugToBuy" ng-value="Market.Ludes" ng-disabled="Market.Ludes.value > user.Stats.numCash"  ng-checked="drugToBuy.name == 'Ludes'">
			              <div class="control__indicator"></div>
			            </label>
			            <label class="control control--radio">Acid {{Market.Acid.value | currency:"$":0 }}
			              <input type="radio" ng-model="drugToBuy" ng-value="Market.Acid" ng-disabled="Market.Acid.value > user.Stats.numCash">
			              <div class="control__indicator"></div>
			            </label>
			            <label class="control control--radio">Weed {{Market.Weed.value | currency:"$":0 }}
			              <input type="radio" ng-model="drugToBuy" ng-value="Market.Weed" ng-disabled="Market.Weed.value > user.Stats.numCash">
			              <div class="control__indicator"></div>
			            </label>
			            <label class="control control--radio">Heroin {{Market.Heroin.value | currency:"$":0 }}
			              <input type="radio" ng-model="drugToBuy" ng-value="Market.Heroin" ng-disabled="Market.Heroin.value > user.Stats.numCash">
			              <div class="control__indicator"></div>
			            </label>
			            <label class="control control--radio">Opium {{Market.Opium.value | currency:"$":0 }}
			              <input type="radio" ng-model="drugToBuy" ng-value="Market.Opium" ng-disabled="Market.Opium.value > user.Stats.numCash">
			              <div class="control__indicator"></div>
			            </label>
			            <label class="control control--radio">MDMA {{Market.MDMA.value | currency:"$":0 }}
			              <input type="radio" ng-model="drugToBuy" ng-value="Market.MDMA" ng-disabled="Market.MDMA.value > user.Stats.numCash">
			              <div class="control__indicator"></div>
			            </label>
			            <label class="control control--radio">Hashish {{Market.Hashish.value | currency:"$":0 }}
			              <input type="radio" ng-model="drugToBuy" ng-value="Market.Hashish" ng-disabled="Market.Hashish.value > user.Stats.numCash">
			              <div class="control__indicator"></div>
			            </label>
			            <label class="control control--radio">Peyote {{Market.Peyote.value | currency:"$":0 }}
			              <input type="radio" ng-model="drugToBuy" ng-value="Market.Peyote" ng-disabled="Market.Peyote.value > user.Stats.numCash">
			              <div class="control__indicator"></div>
			            </label>
			            <label class="control control--radio">Cocaine {{Market.Cocaine.value | currency:"$":0 }}
			              <input type="radio" ng-model="drugToBuy" ng-value="Market.Cocaine" ng-disabled="Market.Cocaine.value > user.Stats.numCash">
			              <div class="control__indicator"></div>
			            </label></br>
<!-- 			            <tt>object = {{drugToBuy | json}}</tt><br/> // diagnostic stuff
			            <tt>drug name = {{drugToBuy.name}}</tt><br/>
			            <tt>drug cost = {{drugToBuy.value}}</tt><br/> -->
			            <button id="buy-button" class="module__action"
			                              ng-click="buy(drugToBuy.name)">Buy 1</button>
			           </form>
                </ul>
                </div>
                <div class="module__item module__item--featured">
                    <h3 class="module__title">Your Inventory</h3>
                    <p class="module__sentence">Select a drug to sell</p>
                    <div class="module__price"><span class="module__currency">$</span><span ng-bind="drugToSell.value">25</span><span class="module__period" ng-bind="drugToSell.name">{{drugToSell.name}}</span></div>
		                <form name="sellForm" class="control-group">

<!-- I would like to use an ng-repeat for inventory but It doesn't seen possible to show/hide -->
<!-- 					            <label ng-repeat="(key, value) in user" class="control control--radio" ng-show="value">{{ value.count }} {{key}} Aquired for {{ value.userCost | currency:"$":0}}
					              <input type="radio" ng-model="drugToSell" ng-value="Market.Shrooms">
					              <div class="control__indicator"></div>
					            </label> -->
					            <label class="control control--radio" ng-show="user.Shrooms.count">{{ user.Shrooms.count }} Shroom(s) Aquired for {{ user.Shrooms.userCost | currency:"$":0}}
					              <input type="radio" ng-model="drugToSell" ng-value="Market.Shrooms">
					              <div class="control__indicator"></div>
					            </label>
					            <label class="control control--radio" ng-show="user.PCP.count">{{ user.PCP.count }} PCP(s) Aquired for {{ user.PCP.userCost | currency:"$":0}}
					              <input type="radio" ng-model="drugToSell" ng-value="Market.PCP">
					              <div class="control__indicator"></div>
					            </label>
					            <label class="control control--radio" ng-show="user.Speed.count">{{ user.Speed.count }} Speed Aquired for {{ user.Speed.userCost | currency:"$":0}}
					              <input type="radio" ng-model="drugToSell" ng-value="Market.Speed">
					              <div class="control__indicator"></div>
					            </label>
					            <label class="control control--radio" ng-show="user.Ludes.count">{{ user.Ludes.count }} Ludes Aquired for {{ user.Ludes.userCost | currency:"$":0}}
					              <input type="radio" ng-model="drugToSell" ng-value="Market.Ludes">
					              <div class="control__indicator"></div>
					            </label>
					            <label class="control control--radio" ng-show="user.Acid.count">{{ user.Acid.count }} Acid Aquired for {{ user.Acid.userCost | currency:"$":0}}
					              <input type="radio" ng-model="drugToSell" ng-value="Market.Acid">
					              <div class="control__indicator"></div>
					            </label>
					            <label class="control control--radio" ng-show="user.Weed.count">{{ user.Weed.count }} Weed Aquired for {{ user.Weed.userCost | currency:"$":0}}
					              <input type="radio" ng-model="drugToSell" ng-value="Market.Weed">
					              <div class="control__indicator"></div>
					            </label>
					            <label class="control control--radio" ng-show="user.Heroin.count">{{ user.Heroin.count }} Heroin Aquired for {{ user.Heroin.userCost | currency:"$":0}}
					              <input type="radio" ng-model="drugToSell" ng-value="Market.Heroin">
					              <div class="control__indicator"></div>
					            </label>
					            <label class="control control--radio" ng-show="user.Opium.count">{{ user.Opium.count }} Opium Aquired for {{ user.Opium.userCost | currency:"$":0}}
					              <input type="radio" ng-model="drugToSell" ng-value="Market.Opium">
					              <div class="control__indicator"></div>
					            </label>
					            <label class="control control--radio" ng-show="user.MDMA.count">{{ user.MDMA.count }} MDMA Aquired for {{ user.MDMA.userCost | currency:"$":0}}
					              <input type="radio" ng-model="drugToSell" ng-value="Market.MDMA">
					              <div class="control__indicator"></div>
					            </label>
					            <label class="control control--radio" ng-show="user.Hashish.count">{{ user.Hashish.count }} Hashish Aquired for {{ user.Hashish.userCost | currency:"$":0}}
					              <input type="radio" ng-model="drugToSell" ng-value="Market.Hashish">
					              <div class="control__indicator"></div>
					            </label>
					            <label class="control control--radio" ng-show="user.Peyote.count">{{ user.Peyote.count }} Peyote Aquired for {{ user.Peyote.userCost | currency:"$":0}}
					              <input type="radio" ng-model="drugToSell" ng-value="Market.Peyote">
					              <div class="control__indicator"></div>
					            </label>
					            <label class="control control--radio" ng-show="user.Cocaine.count">{{ user.Cocaine.count }} Cocaine Aquired for {{ user.Cocaine.userCost | currency:"$":0}}
					              <input type="radio" ng-model="drugToSell" ng-value="Market.Cocaine">
					              <div class="control__indicator"></div>
					            </label>
					            <button id="buy-button" class="module__action" 
					                              ng-click="sellShrooms(user.Shrooms.numShrooms, shroomCost)">Sell 1</button>
					           </form>
                </div>
                <div class="module__item debt__item--featured">
                    <h3 class="module__title">Game Stats</h3>
                    <p class="module__sentence">Day {{day}}</p>
                    <div id="debt-count" class="module__price"><span class="module__currency">$</span>{{user.Stats.numDebt}}<span class="module__period">Debt</span></div>

                    <ul class="module__feature-list">
                        <li id="cash-count" class="module__feature">Cash: {{user.Stats.numCash | currency:"$":0}}</li>
                        <li class="module__feature">Bank Balance: $0</li>
                        <li class="module__feature">Health: {{user.Stats.numHealth}}</li>
                        <li class="module__feature">Guns: {{user.Stats.numGuns}}</li>
                    </ul>
                    <button id="pay-debt" class="module__action" ng-click="payDebt()">Repay Debt</button>
                </div>
            </div>
            <p>Angular version of the original: <strong><a href="https://en.wikipedia.org/wiki/Drugwars">Drug Wars</a></strong></p>
        </section>
    </div>
    <!-- /container -->
      <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0/angular.js"></script>
      <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0/angular-route.js"></script> 
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.12.0/ui-bootstrap-tpls.min.js"></script>
      <script type="text/javascript" src="https://code.angularjs.org/1.3.0/angular-animate.js"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-rc.2/angular-touch.min.js"></script>
      <script type="text/javascript" src="js/app.js"></script>
</body>

</html>
